{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sande\\\\OneDrive\\\\Desktop\\\\yelp\\\\client\\\\src\\\\components\\\\RestaurantList.jsx\";\nimport React, { useEffect, useContext, Fragment } from 'react';\nimport RestaurantFinder from '../apis/RestaurantFinder';\nimport { RestaurantsContext } from '../context/RestaurantsContext';\nimport { useHistory, Link } from 'react-router-dom';\n\nconst RestaurantList = props => {\n  const {\n    restaurants,\n    setRestaurants,\n    deleteRestaurants\n  } = useContext(RestaurantsContext);\n  useEffect(() => {\n    RestaurantFinder.get('/restaurants/').then(response => {\n      setRestaurants(response.data.data.restaurants);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const handleDelete = id => {\n    RestaurantFinder.delete(`/restaurant/${id}`).then(() => {\n      deleteRestaurants(id);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  let history = useHistory();\n\n  const handleUpdate = id => {\n    history.push(`/restaurants/${id}/update`);\n  };\n\n  const handleRestaurantSelect = id => {\n    history.push(`'restaurant/${id}`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-hover table-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"bg-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  }, \"Restaurant\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 25\n    }\n  }, \"Price Range\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, \"Ratings\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, restaurants && restaurants.map(restaurant => {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: restaurant.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      onClick: () => handleRestaurantSelect(restaurant.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }\n    }, restaurant.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 37\n      }\n    }, restaurant.location), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 37\n      }\n    }, \"$\".repeat(restaurant.price_range)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 37\n      }\n    }, \"reviews\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleUpdate(restaurant.id),\n      className: \"btn btn-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 41\n      }\n    }, \"Update\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => handleDelete(restaurant.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 41\n      }\n    }, \"Delete\"))));\n  }))));\n};\n\nexport default RestaurantList;","map":{"version":3,"sources":["C:/Users/sande/OneDrive/Desktop/yelp/client/src/components/RestaurantList.jsx"],"names":["React","useEffect","useContext","Fragment","RestaurantFinder","RestaurantsContext","useHistory","Link","RestaurantList","props","restaurants","setRestaurants","deleteRestaurants","get","then","response","data","catch","err","console","log","handleDelete","id","delete","history","handleUpdate","push","handleRestaurantSelect","map","restaurant","name","location","repeat","price_range"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,OAAOC,gBAAP,MAA6B,0BAA7B;AACA,SAASC,kBAAT,QAAmC,+BAAnC;AACA,SAAQC,UAAR,EAAqBC,IAArB,QAAgC,kBAAhC;;AACA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAC9B,QAAM;AAACC,IAAAA,WAAD;AAAcC,IAAAA,cAAd;AAA8BC,IAAAA;AAA9B,MAAmDV,UAAU,CAACG,kBAAD,CAAnE;AACAJ,EAAAA,SAAS,CAAC,MAAI;AACVG,IAAAA,gBAAgB,CAACS,GAAjB,CAAqB,eAArB,EACCC,IADD,CACOC,QAAD,IAAY;AACdJ,MAAAA,cAAc,CAACI,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBN,WAApB,CAAd;AACH,KAHD,EAICO,KAJD,CAIOC,GAAG,IAAG;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAND;AAOH,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMG,YAAY,GAAIC,EAAD,IAAO;AACxBlB,IAAAA,gBAAgB,CAACmB,MAAjB,CAAyB,eAAcD,EAAG,EAA1C,EACCR,IADD,CACM,MAAK;AACPF,MAAAA,iBAAiB,CAACU,EAAD,CAAjB;AACH,KAHD,EAICL,KAJD,CAIQC,GAAG,IAAG;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAND;AAOH,GARD;;AASA,MAAIM,OAAO,GAAGlB,UAAU,EAAxB;;AACA,QAAMmB,YAAY,GAAIH,EAAD,IAAO;AACxBE,IAAAA,OAAO,CAACE,IAAR,CAAc,gBAAeJ,EAAG,SAAhC;AACH,GAFD;;AAGA,QAAMK,sBAAsB,GAAIL,EAAD,IAAO;AAClCE,IAAAA,OAAO,CAACE,IAAR,CAAc,eAAcJ,EAAG,EAA/B;AACH,GAFD;;AAGA,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,SAAS,EAAC,8BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHJ,eAII;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,eAKI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ,eAMI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,CADJ,CADJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKZ,WAAW,IAAIA,WAAW,CAACkB,GAAZ,CAAgBC,UAAU,IAAI;AAC1C,wBACI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,UAAU,CAACP,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,OAAO,EAAG,MAAMK,sBAAsB,CAACE,UAAU,CAACP,EAAZ,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKO,UAAU,CAACC,IAAhB,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,UAAU,CAACE,QAAhB,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,IAAIC,MAAJ,CAAWH,UAAU,CAACI,WAAtB,CAAL,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAQ,MAAA,OAAO,EAAE,MAAMR,YAAY,CAACI,UAAU,CAACP,EAAZ,CAAnC;AAAoD,MAAA,SAAS,EAAC,iBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAoC,MAAA,OAAO,EAAG,MAAMD,YAAY,CAACQ,UAAU,CAACP,EAAZ,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CANJ,CADJ,CADJ;AAYD,GAba,CADpB,CAXJ,CADJ,CADJ;AAyCH,CArED;;AAuEA,eAAed,cAAf","sourcesContent":["import React, {useEffect, useContext, Fragment} from 'react';\r\nimport RestaurantFinder from '../apis/RestaurantFinder';\r\nimport { RestaurantsContext } from '../context/RestaurantsContext';\r\nimport {useHistory , Link} from 'react-router-dom';\r\nconst RestaurantList = (props) => {\r\n    const {restaurants, setRestaurants, deleteRestaurants} = useContext(RestaurantsContext)\r\n    useEffect(()=>{\r\n        RestaurantFinder.get('/restaurants/')\r\n        .then((response)=>{\r\n            setRestaurants(response.data.data.restaurants);\r\n        })\r\n        .catch(err =>{\r\n            console.log(err);\r\n        })\r\n    }, []);\r\n\r\n    const handleDelete = (id) =>{\r\n        RestaurantFinder.delete(`/restaurant/${id}`)\r\n        .then(() =>{\r\n            deleteRestaurants(id);\r\n        })\r\n        .catch( err =>{\r\n            console.log(err);\r\n        })\r\n    }\r\n    let history = useHistory();\r\n    const handleUpdate = (id) =>{\r\n        history.push(`/restaurants/${id}/update`);\r\n    }\r\n    const handleRestaurantSelect = (id) =>{\r\n        history.push(`'restaurant/${id}`);\r\n    }\r\n    return (\r\n        <div className='list-group'>\r\n            <table className=\"table table-hover table-dark\">\r\n                <thead>\r\n                    <tr className='bg-primary'>\r\n                        <th scope='col'>Restaurant</th>\r\n                        <th scope='col'>Location</th>\r\n                        <th scope='col'>Price Range</th>\r\n                        <th scope='col'>Ratings</th>\r\n                        <th scope='col'>Edit</th>\r\n                        <th scope='col'>Delete</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {restaurants && restaurants.map(restaurant => {\r\n                        return (\r\n                            <Fragment key={restaurant.id}>\r\n                                <tr onClick={ () => handleRestaurantSelect(restaurant.id)} >\r\n                                    <td>{restaurant.name}</td>\r\n                                    <td>{restaurant.location}</td>\r\n                                    <td>{\"$\".repeat(restaurant.price_range)}</td>\r\n                                    <td>reviews</td>\r\n                                    <td><button onClick={() => handleUpdate(restaurant.id)} className=\"btn btn-warning\">Update</button></td>\r\n                                    <td><button className=\"btn btn-danger\"  onClick={ () => handleDelete(restaurant.id)}>Delete</button></td>\r\n                                </tr>\r\n                            </Fragment>\r\n \r\n                    ) }  )}\r\n                {/* <tr>\r\n                    <td>McDonalds</td>\r\n                    <td>Patna</td>\r\n                    <td>$$</td>\r\n                    <td>Rating</td>\r\n                    <td><button className=\"btn btn-warning\">Update</button></td>\r\n                    <td><button className=\"btn btn-danger\">Delete</button></td>\r\n                </tr> */}\r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RestaurantList\r\n"]},"metadata":{},"sourceType":"module"}